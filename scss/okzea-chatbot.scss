// Variables
$light: #19191b;
$dark: #19191b;
$primary: #00dcd6;
$secondary: #b3f94d;
$white: #FFFFFF;
$black: #000000;
$green: #b3f94d;
$text: #FFFFFF;
$font-family: 'Quicksand', sans-serif;
$font-size: 16px;
$font-size-extra-small: 12px;
$font-size-small: 14px;
$font-size-large: 18px;
$spacer: 15px;
$radius: 14px;
$sendSVG: url('data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2222.627%22%20height%3D%2222.627%22%20viewBox%3D%220%200%2022.627%2022.627%22%3E%3Cpath%20d%3D%22M14%2C15.937%2C1.126%2C12.192A1.535%2C1.535%2C0%2C0%2C1%2C.02%2C10.976a1.8%2C1.8%2C0%2C0%2C1%2C.8-1.682L4.848%2C6.819a1.044%2C1.044%2C0%2C0%2C1%2C1.288.155l4.611%2C4.639a.587.587%2C0%2C0%2C0%2C.848%2C0%2C.61.61%2C0%2C0%2C0%2C0-.854L6.976%2C6.119a1.059%2C1.059%2C0%2C0%2C1-.154-1.295L9.282.757A1.528%2C1.528%2C0%2C0%2C1%2C10.61%2C0a1.663%2C1.663%2C0%2C0%2C1%2C.2.008%2C1.56%2C1.56%2C0%2C0%2C1%2C1.3%2C1.111L15.932%2C13.98a1.571%2C1.571%2C0%2C0%2C1-.384%2C1.554A1.547%2C1.547%2C0%2C0%2C1%2C14%2C15.937Z%22%20transform%3D%22translate(0%2011.314)%20rotate(-45)%22%20fill%3D%22%23fff%22%2F%3E%3C%2Fsvg%3E');
$calendarSVG: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><rect width="24" height="24" fill="none"/><g transform="translate(3 2)"><path d="M5.152,20H5.141A5.152,5.152,0,0,1,1.4,18.619,5.139,5.139,0,0,1,.011,14.88L0,6.553a5.089,5.089,0,0,1,1.219-3.5A4.939,4.939,0,0,1,4.506,1.53V.78a.773.773,0,0,1,.22-.553.766.766,0,0,1,1.3.552v.7l5.865-.008V.77a.77.77,0,0,1,.218-.552.766.766,0,0,1,1.3.55v.75a4.966,4.966,0,0,1,3.321,1.487A4.993,4.993,0,0,1,17.989,6.49L18,14.916c0,3.125-1.961,5.07-5.128,5.074Zm7.89-5.808a.832.832,0,0,0-.808.851.83.83,0,1,0,.818-.851Zm-8.125,0h0a.851.851,0,0,0-.808.86.823.823,0,0,0,.811.8h.039a.809.809,0,0,0,.565-.265.821.821,0,0,0,.215-.6.813.813,0,0,0-.819-.8Zm4.071,0h0a.854.854,0,0,0-.809.86.826.826,0,0,0,.815.8h.035a.823.823,0,0,0,.778-.861A.811.811,0,0,0,8.988,14.188ZM4.911,10.594h0a.85.85,0,0,0-.807.86.824.824,0,0,0,.814.8h.037a.822.822,0,0,0,.778-.861.813.813,0,0,0-.819-.8Zm4.069-.035h0a.851.851,0,0,0-.808.86.824.824,0,0,0,.815.8h.035a.825.825,0,0,0,.779-.86.814.814,0,0,0-.819-.8Zm4.068.005h0a.827.827,0,0,0-.809.84v.011a.814.814,0,0,0,.822.8h.019a.825.825,0,0,0-.03-1.649ZM4.508,3.058c-1.985.2-2.991,1.375-2.988,3.493v.311l14.948-.02v-.35c-.042-2.113-1.07-3.272-3.055-3.444v.77a.763.763,0,0,1-1.3.548.773.773,0,0,1-.217-.545l0-.81-5.864.008v.808a.764.764,0,0,1-1.3.548.772.772,0,0,1-.217-.545v-.77Z" fill="%23b3f94d"/></g></svg>');
$phoneSVG: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20"><defs><clipPath id="a"><rect width="20" height="20" fill="none"/></clipPath></defs><g transform="translate(-0.141 -0.141)"><g transform="translate(0.141 0.141)" clip-path="url(%23a)"><g transform="translate(-0.166 -0.166)"><path d="M18.548,13.237a11.45,11.45,0,0,1-3.6-.573,1.644,1.644,0,0,0-1.6.337l-2.267,1.712A12.531,12.531,0,0,1,5.452,9.08L7.114,6.871a1.63,1.63,0,0,0,.4-1.652,11.467,11.467,0,0,1-.575-3.6A1.62,1.62,0,0,0,5.322,0h-3.7A1.62,1.62,0,0,0,0,1.618,18.569,18.569,0,0,0,18.548,20.166a1.62,1.62,0,0,0,1.618-1.618V14.855A1.62,1.62,0,0,0,18.548,13.237Z" fill="%23b3f94d"/></g></g></g></svg>');
$emailSVG: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="16" viewBox="0 0 20 16"><path d="M12,16a4.193,4.193,0,0,1-1.6-.4L2,10.4V17a2.946,2.946,0,0,0,3,3H19a2.946,2.946,0,0,0,3-3V10.4l-8.4,5.2A4.193,4.193,0,0,1,12,16ZM19,4H5A2.946,2.946,0,0,0,2,7V8.1l9.5,5.8a.908.908,0,0,0,1,0L22,8.1V7a2.946,2.946,0,0,0-3-3Z" transform="translate(-2 -4)" fill="%23b3f94d"/></svg>');

// Import Google Fonts
@import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600&display=swap');

@keyframes show {
  100% {
    opacity: 1;
    transform: none;
  }
}

// Container Styles
#okzea-chatbot-container {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  width: 100%;
  height: 100%;
  overflow-y: scroll;
  z-index: 9999;
  box-sizing: border-box;
  background-color: $light;
  display: flex;
  justify-content: center;
  align-items: start;
  font-family: $font-family;
  font-size: $font-size;
  color: $text;

  @media (min-width: 782px) {
    padding-right: $spacer;
  }
}

.container {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
}

#okzea-chatbot-form {
  flex: 1;
  display: flex;
  flex-direction: column;
  margin: 0;
}

// Chatbot Conversation Styles
.chatbot-conversation {
  position: relative;
  flex: 1;
  display: flex;
  flex-direction: column;
}

.avatar-container {
  position: sticky;
  top: 0;
  width: 100%;
  display: flex;
  align-items: center;
  padding: $spacer * 2;
  background-color: $light;
  box-sizing: border-box;
  z-index: 10;
}

.avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  overflow: hidden;
  margin-right: 12px;

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  & + div {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: flex-start;
  }
}

.avatar-name {
  font-size: $font-size-small;
  font-weight: 400;
  line-height: 1.4;
  color: $text;
}

.avatar-status {
  font-size: $font-size-extra-small;
  font-weight: 400;
  line-height: 1.4;
  opacity: 0.7;
  color: $text;

  &::before {
    content: "";
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: $green;
    margin-right: 5px;
  }
}

.chat-messages {
  display: flex;
  flex-direction: column;
  margin-top: auto;
  flex: 1;
  padding: $spacer * 2;
}

.chat-message {
  animation: show 600ms 100ms cubic-bezier(0.38, 0.97, 0.56, 0.76) forwards;
  opacity: 0;
  margin-bottom: 22px;
  padding: 18px 38px;
  line-height: 24px;
  border-radius: $radius $radius $radius 0;
  max-width: 80%;
  color: $text;
  background-color: rgba(255, 255, 255, 0.1);
  align-self: flex-start;

  a {
    color: $primary;
    font-weight: 600;
  }

  // &:first-child {
  //   margin-top: auto;
  // }

  &:last-child {
    margin-bottom: 0;
  }
}

.user-message {
  animation: show 600ms 100ms cubic-bezier(0.38, 0.97, 0.56, 0.76) forwards;
  opacity: 0;
  background-color: $primary;
  color: $dark;
  align-self: flex-end;
  border-radius: $radius $radius 0 $radius;
}

.response-container {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 18px;
}

.input-field-wrapper {
  animation: show 600ms 100ms cubic-bezier(0.38, 0.97, 0.56, 0.76) forwards;
  opacity: 0;
  flex: 1;

  input,
  select,
  textarea {
    width: 100%;
    height: 60px;
    padding: 18px 38px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: $radius;
    font-size: 16px;
    transition: border-color 0.15s ease-in-out;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    box-sizing: border-box;
    background: rgba(255, 255, 255, 0.05);
    color: $text;

    &:focus {
      outline: 0;
      border-color: $primary;
    }
  }

  input[type="text"][data-litepicker] {
    background-image: $calendarSVG;
    background-repeat: no-repeat;
    background-position: 22px center;
    background-size: 20px;
    padding-left: 60px;
    cursor: pointer;
  }

  input[type="email"] {
    background-image: $emailSVG;
    background-repeat: no-repeat;
    background-position: 22px center;
    background-size: 20px;
    padding-left: 60px;
  }

  input[type="tel"] {
    background-image: $phoneSVG;
    background-repeat: no-repeat;
    background-position: 22px center;
    background-size: 20px;
    padding-left: 60px;
  }

  input[type="radio"] {
    display: none;

    & + label {
      display: inline-block;
      padding: 14px 22px;
      border-radius: $radius;
      background-color: rgba($primary, 0.1);
      color: $primary;
      cursor: pointer;
      transition: background-color 0.15s ease-in-out;
      max-width: 310px;
      margin-bottom: 9px;
      font-size: $font-size-small;
      font-weight: 600;

      &:last-child {
        margin-bottom: 0;
      }

      &:hover, &:focus {
        background-color: $primary;
        color: $dark;
      }
    }

    &:checked + label {
      background-color: $primary;
      color: $dark;
    }
  }

  &.column {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: center;
    text-align: center;
    margin-top: 13px;

    input[type="radio"] + label {
      width: 100%;
      margin-left: auto;
      margin-right: auto;
    }
  }
}

.field-invalid {
  border-color: #ff4d4d !important;
}

.next-button,
.submit-button {
  width: 60px;
  height: 60px;
  background-color: $secondary;
  background-image: $sendSVG;
  background-repeat: no-repeat;
  background-position: center;
  border: none;
  border-radius: $radius;
  cursor: pointer;
  transition: background-color 0.15s ease-in-out;
  box-sizing: border-box;

  &:hover {
    background-color: adjust($secondary, -10%);
  }
}

.submit-button {
  background-color: $primary;

  &:hover {
    background-color: adjust($primary, -10%);
  }
}

// Typing Indicator
.typing-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 24px;

  span {
    height: 8px;
    width: 8px;
    margin: 0 2px;
    background-color: $primary;
    border-radius: 50%;
    display: inline-block;
    animation: bounce 1s infinite ease-in-out;

    &:nth-child(1) {
      animation-delay: 0ms;
    }

    &:nth-child(2) {
      animation-delay: 333ms;
    }

    &:nth-child(3) {
      animation-delay: 666ms;
    }
  }
}

@keyframes bounce {
  0%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-8px); }
}

// Range Slider Styles
.range {
  width: 100%;
  padding: 10px 0;
}

.range-slider {
  position: relative;
  width: 100%;
}

.range-input {
  width: 100%;
  -webkit-appearance: none;
  height: 10px;
  border-radius: 5px;
  background: linear-gradient(to right, $primary 0%, $primary var(--gradient-pos-x, 50%), rgba(255, 255, 255, 0.1) var(--gradient-pos-x, 50%), rgba(255, 255, 255, 0.1) 100%);
  outline: none;

  &::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: $primary;
    cursor: pointer;
  }

  &::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: $primary;
    cursor: pointer;
  }
}

.sliderticks {
  display: flex;
  justify-content: space-between;
  margin-top: 10px;

  span {
    font-size: 12px;
    color: rgba(255, 255, 255, 0.7);
  }
}
